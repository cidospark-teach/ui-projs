<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smooth Page Scroll</title>

    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    

    <!-- link to css file-->
    <link href="main.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="menu-wrap">
        
        <ul>
            <li id="no-bg"><div id="logo-box">cidospark-teach</div></li>
            <li><a id="-pg1" href="#pg1" class="menu-link active">Page 1</a></li>
            <li><a id="-pg2" href="#pg2" class="menu-link">Page 2</a></li>
            <li><a id="-pg3" href="#pg3" class="menu-link">Page 3</a></li>
            <li><a id="-pg4" href="#pg4" class="menu-link">Page 4</a></li>
            <li><a id="-pg5" href="#pg5" class="menu-link">Page 5</a></li>
            <li id="no-bg">
                <div id="menu-btn" class="fas fa-bars"></div>
            </li>
        </ul>
    </div>

    <div class="content">
        <section id="pg1"><h2>page 1</h2></section>
        <section id="pg2"><h2>page 2</h2></section>
        <section id="pg3"><h2>page 3</h2></section>
        <section id="pg4"><h2>page 4</h2></section>
        <section id="pg5"><h2>page 5</h2></section>
    </div>
</body>

<script>
    let links = document.querySelectorAll(".menu-link");

    // remove all background colors
    function removeBg(){
        links.forEach(elem => elem.classList.remove("active"));
    }
    
    // select menu links and add background color to any one clicked
    links.forEach(link => {
        link.addEventListener('click', (e) => {
            this.removeBg();
            e.target.classList.add("active");
        })
    })

    // select sections on scroll
    let sects = document.querySelectorAll("section");

    // when window scrolls get current section in view and add class to its menu
    window.onscroll = () => {
        sects.forEach(sect => {
            let offSet = sect.offsetTop;
            let scrollY = window.scrollY;
            let height = sect.offsetHeight;

            let sectId = sect.getAttribute("id");
            if(scrollY >=offSet && scrollY < offSet + height){
                links.forEach(link => {
                    this.removeBg();
                    document.querySelector("#"+ "-" + sectId ).classList.add("active");
                })
            }
        })
    }
    
</script>
</html>